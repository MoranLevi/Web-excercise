<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Management System</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>  
    <!-- First Name: <input type="text" name="fname" id="fname"><br><br>
    Last Name: <input type="text" name="lname" id="lname"><br><br>
    Age: <input type="text" name="age" id="age"><br><br>
    <button onclick="window.addRow()">Add Row</button>
    <button onclick="window.editRow()">Edit Row</button> -->
    <div class="grid">
        <div class="box"><h1 id="title">Worker Management System</h1></div>
        <div class="box">First Name:</div>
        <div class="box"><input type="text" name="fname" id="fname" placeholder="First Name"></div>
        <div class="box">Last Name:</div>
        <div class="box"><input type="text" name="lname" id="lname" placeholder="Last Name"></div>
        <div class="box">ID:</div>
        <div class="box"><input type="text" name="id" id="id" placeholder="ID"></div>
        <div class="box">Age:</div>
        <div class="box"><input type="text" name="age" id="age" placeholder="Age"></div>
        <div class="box"><button onclick="window.addRow()" class="add-edit-button">Add Row</button></div>
        <div class="box"><button onclick="window.editRow()" class="add-edit-button">Edit Row</button></div>
    </div>
            <!-- <div class="box"><button onclick="window.addRow()">Add Row</button></div>
            <div class="box"><button onclick="window.editRow()">Edit Row</button></div> -->
        <!-- </div> -->
        <!-- <button onclick="window.deleteRow()">Delete Row</button> -->
    

    <!-- <div style="text-align:center;" valign="top"> -->
    <table id="table" class="content-table">
        <thead>
            <tr>
                <td>First Name</td>
                <td>Last Name</td>
                <td>ID</td>
                <td>Age</td>
                <td>Delete</td>
            </tr>
        </thead>
        <tbody></tbody>      
    </table>
    <!-- </div> -->

    <script src="utils.js"></script>
    <script src="index.js"></script>
    <script src="fetch.js"></script>

    <script>
        $( document ).ready(function() {
            window.getAllEmployees()
            .then(responseData => {
                var root = document.getElementsByTagName('table')[0].getElementsByTagName('tbody')[0];
                responseData.rows.forEach(element => root.insertAdjacentHTML('beforeend', `<tr><td>${element.first_name}</td>
                    <td>${element.last_name}</td><td>${element.id}</td><td>${element.age}</td>
                    <td><button disabled onclick="window.deleteRow()" id="removeButton">remove</button></td></tr>`));
                window.initClickOnRow();
            })
            .catch(err => {
                console.log(err);
            });
        });
    </script>

</body>
</html>